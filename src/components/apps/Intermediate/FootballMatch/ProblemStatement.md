# Sports League Web UI

## Challenge Details

### Project Requirements

There is an existing backend service with an **HTTP API that returns a list of matches** and their results from the competition. Your task is to create a SPA that connects to this API and retrieves the list of matches. That list is then used to generate the UI pages.

The application will have two main pages: Schedule Page and Leaderboard Page, as well as one **"404 Not Found"** error page.

IMPORTANT NOTE: Pay attention to details in the UI screenshots and the Visual Style Guide section below and aim to be as pixel-perfect as possible.

### Schedule Page

The schedule page is there to display the list of matches retrieved from the backend.

The following screenshots demonstrate how this page should look on three different screen sizes.

<https://kodefi-prod.s3.amazonaws.com/uploads/fPpkN4SxBQvYqDCgMfZkiUB32MUuasQPJ9S7lFD8.png>

Each row in the view represents one match from the list of matches retrieved from the backend. The order of matches should be the same as retrieved from the backend. Each match retrieved from the backend will have the following fields:

- Match Date -- The date and time when the match is (or should be) played.
- Stadium -- The name of the stadium where the match is (or should be) played.
- Home Team -- Name of the team that hosts the match.
- Away Team -- Name of the guest/away team.
- Match Played -- Whether the match is already played or not. In case the match is played the result should be displayed and in case the match is not played yet then the result should be - : -
- Home Team Score -- Number of goals scored by the home team.
- Away Team Score -- Number of goals scored by the guest/away team.

### Leaderboard Page

The leaderboard page is there to display the current team standings based on the results from the list of matches.

The following screenshots demonstrate how this page should look on three different screen sizes.

<https://kodefi-prod.s3.amazonaws.com/uploads/HKrJYkPBKZcZd2U8Kk6GMAXYkVAepQmg4DhGT4bb.png>

Each row represents one team and its stats. The stats displayed are:

- MP (Match Played) -- This represents the number of matches the team has played up until now.
- GF (Goals For) -- This represents the number of goals scored by the team.
- GA (Goals Against) -- This represents the number of goals conceded by the team.
- GD (Goal Difference) -- This represents the difference between scored and conceded goals.
- Points -- This represents the number of points the team achieved.

The data for the leaderboard should be generated by using the list of matches retrieved from the backend as described in the following section.

Other Pages

Besides the two above you are also required to implement the 404 Not Found page as shown in the screenshot below.

### Leaderboard Generation

The data in the leaderboard, as well as the order of teams, should be generated by using the data from the list of matches by honoring the following rule:

- For each victory teams will get 3 points.
- For each draw teams will get 1 point.
- Teams in the leaderboard are ordered by the number of points in descending order.
- In case two or more teams have the same number of points a tiebreaker is done in the following order:

1.  The first tiebreaker is the number of points in head-to-head matches between the teams that have the same number of points. So, if multiple teams have the same number of points the order is defined by "creating" a mini leaderboard of those teams only and sorting them only by the number of points.
2.  The second tiebreaker is goal difference.
3.  The third tiebreaker is the number of scored goals.
4.  The final tiebreaker is alphabetic ascending order by name.

### Technical Details/Requirements

To get started **please read the README file** from the root of the repository. Additional details can be found here.

Existing Source Code

Even though this is a new project you will not be starting from scratch. In the repository, besides the assets for UI, you will also find some preexisting source code.

File src/services/LeagueService.js contains LeagueService class. This class has several empty methods that you need to implement:

- setMatches(matches) -- this method should be used to set the array of matches to LeagueService.
- getMatches() -- this method returns the matches set by setMatches.
- getLeaderboard() -- this method returns the generated leaderboard. You can implement the algorithm for generating the leaderboard in any class/function you see fit but the result needs to be retrievable via this function.
- async fetchData() -- this method should load the data (array of matches) from the backend via the given API.

IMPORTANT NOTE: You must continue building on top of that preexisting source code and you should NOT DELETE any of the existing source code, files, and folders NOR move or rename any of the existing files. Please see the source code comments for more information about expected input and output from the predefined methods.

Routing Details

The following routes should be implemented:

- <http://localhost:3000/> - should open the Schedule Page.
- <http://localhost:3000/schedule> - should open the Schedule Page.
- <http://localhost:3000/leaderboard> - should open the Leaderboard Page.

IMPORTANT NOTE: Any other route should show the 404 Not Found page.

Visual Style Guide

It is important for the created UI to look as close to the above screenshots as possible. To help with that here are some technical details about the UI design:

- All needed graphics (such as logo, icons, "404" image) are available in the project repository already.
- You can use any CSS Framework you like or not use one at all - as long as the final look is as in the screenshots above.
- Primary font family is 'Open Sans' and secondary is 'sans-serif'.
- Font sizes

1.  Font size in the menu is 16px.
2.  Font size in headings on pages is 24px.
3.  Font size in table headers is 12px.
4.  Font size for non-bolded table cells is 14px.
5.  Font size for bolded table cells is 16px.

- Font colors

1.  Font color in the menu is #FFFFFF.
2.  Font color in page headings is #182C62.
3.  Font color in tables is #4B5C68.
4.  Font color in the footer is #4B5C68.

- Page header background color is #025FEB.
- Table header background and table border colors are #E4EDF2.
- Background color for even rows on the schedule page is #F6F7F7.
- Page footer background color is #F6F7F7.
- Date/Time column is formatted as "D.M.YYYY hh:mm" by following the [W3C Date/Time Formatting](https://www.w3.org/TR/NOTE-datetime) formatting rules.
- Flag images should be taken from [Country Flags API](https://flagsapi.codeaid.io/).
- The 404 image is displayed in its original size.
- The images below shows the most important dimensions:

_From <<https://enworld.codeaid.io/2433/challenge?token=7CmD9xghuE>>_

API Details

The existing API is rather simple. The API will run on  <http://localhots:3001/>. This should be the default host and port.

IMPORTANT NOTE: If you need to change the port locally to something else, please make sure to revert back to 3001 in your source code because otherwise, the grading system will fail to grade you or grade you low.

The API has three endpoints:

1.  Get API Version

- Endpoint: GET /api/version
- Authorization Required: NO
- Response Example:\
  {\
    "success": true,\
    "version": "v1.0"\
  }

1.  Get Access Token

- Endpoint: GET /api/v1/getAccessToken
- Authorization Required: NO
- Response Example:\
  {\
  "success": true,\
  "access_token": "[TOKEN]"\
  }

1.  Get All Matches

- Endpoint: GET /api/v1/getAllMatches
- Authorization Required: YES (Bearer Token)\
  To authenticate one needs to add Bearer [TOKEN] as Authorization header:

{

    headers: {

    Authorization: 'Bearer [TOKEN]'

}

}

The [TOKEN] is retrieved from getAccessToken endpoint.

- Response Example:
  {\
   "success": true,\
   "matches": [\
   {\
   "matchDate": 1651744228685,
  "stadium": "Maracanã",
  "homeTeam": "Brazil",
  "awayTeam": "Agentina",
  "matchPlayed": true/false,
  "homeTeamScore": 0,
  "awayTeamScore": 0
  },\
  {...},
  ]
  }

IMPORTANT NOTE: The /v1/ in the endpoint URL should be hardcoded and not retrieved from the API Version endpoint.

Existing Source Code

Even though this is a new project you will not be starting from scratch. In the repository you will also find some preexisting source code.

You must continue building on top of that preexisting source code and you should NOT DELETE any of the existing source code, files and folders NOR move or rename any of the existing files, classes, methods or variables. However, you're free to add new source files to the project and extend existing classes with your own methods and variables.

IMPORTANT NOTE: Please follow the instructions in the existing source code. Not following the instructions and not using the preexisting source code as a base might result in automatic test failures.

How To Run Instructions

The challenge should be implemented in React.

To run the backend mock server execute:

> npm install

> npx json-fake-server -m dev-mock-server-config.json

After this, you would be able to access the backend at <http://localhost:3001>.

To verify if the server is running you can run:

> curl <http://localhost:3001/api/version>

The response should be {"success": true, "version": "1.0"}.

To run the application just execute:

> npm start
